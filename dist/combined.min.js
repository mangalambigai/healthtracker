var app=app||{};$(function(){app.DayTotal=Backbone.Model.extend({})});var app=app||{};$(function(){app.FoodEntry=Backbone.Model.extend({initialize:function(){item_name="",nf_calories=0,nf_serving_size_qty=1,nf_serving_size_unit="serving",nf_total_fat=0}})});var app=app||{};$(function(){app.PersonDetails=Backbone.Firebase.Model.extend({url:"https://flickering-torch-1240.firebaseio.com/persondetails"})});var app=app||{};$(function(){"use strict";app.SearchItem=Backbone.Model.extend({item_name:"",nf_calories:0,nf_serving_size_qty:1,nf_serving_size_unit:"serving",nf_total_fat:0,parse:function(a,b){return a.fields}})});var app=app||{};$(function(){"use strict";app.DayTotalList=Backbone.Firebase.Collection.extend({model:app.DayTotal,url:"https://flickering-torch-1240.firebaseio.com/dates"})});var app=app||{};$(function(){"use strict";app.FoodEntryList=Backbone.Firebase.Collection.extend({model:app.FoodEntry,autoSync:!1,initialize:function(a,b){this.id=b.id},url:function(){return"https://flickering-torch-1240.firebaseio.com/food/"+this.id},dailyTotalCalories:function(){return 0===this.length?0:this.reduce(function(a,b){return a+b.get("nf_calories")},0)},dailyTotalFat:function(){return 0===this.length?0:this.reduce(function(a,b){return a+b.get("nf_total_fat")},0)}})});var app=app||{},nutritionixParams="?fields=item_name%2Citem_id%2Cbrand_name%2Cnf_calories%2Cnf_total_fat&appId=9b2a5194&appKey=51644adf0e04c084cbeb947465c2b102",nutritionixUrl="https://api.nutritionix.com/v1_1/search/";$(function(){"use strict";app.SearchList=Backbone.Collection.extend({model:app.SearchItem,url:nutritionixUrl+nutritionixParams,parse:function(a){return a.hits},setSearchString:function(a){this.url=nutritionixUrl+a+nutritionixParams}})});var app=app||{};$(function(){"use strict";app.AppView=Backbone.View.extend({el:"#foodApp",initialize:function(){app.personDetails=new app.PersonDetails,app.calculatorView=new app.CalculatorView({model:app.personDetails}),app.searchView=new app.SearchView,app.searchView.hide(),app.$date=$("#dateinput");var a=this.today();app.$date.val(a),app.dayTotalList=new app.DayTotalList,app.dayTotalListView=new app.DayTotalListView,app.foodListView=new app.FoodListView({date:a})},events:{"change #dateinput":"dateChanged"},render:function(){return this},dateChanged:function(){app.foodListView.setDate(app.$date.val()),app.searchView.hide()},today:function(){return app.getFormattedDate(new Date)}})});var app=app||{};$(function(){"use strict";app.CalculatorView=Backbone.View.extend({el:"#profile-section",initialize:function(){this.$rowAge=$("#rowAge"),this.$rowWeight=$("#rowWeight"),this.$rowHeight=$("#rowHeight"),this.$formAge=$("#formAge"),this.$formWeight=$("#formWeight"),this.$formHeight=$("#formHeight"),this.$formGender=$("#formGender"),this.$formActivity=$("#formActivity"),this.$bmr=$("#bmr"),this.$calorie=$("#calorie"),this.$bmi=$("#bmi"),this.$submit=$("#submit"),this.listenTo(this.model,"change",this.render)},events:{"click #calculate":"calculate","keyup #formAge":"validateAge","keyup #formWeight":"validateWeight","keyup #formHeight":"validateHeight","change #formAge":"calculate","change #formWeight":"calculate","change #formHeight":"calculate","change #formGender":"calculate","change #formActivity":"calculate","click #submit":"submit"},validateAge:function(a){var b=Number($(a.target).val());1>b||b>100?(this.$rowAge.removeClass("has-success"),this.$rowAge.addClass("has-error"),this.$submit.prop("disabled",!0)):(this.$rowAge.removeClass("has-error"),this.$rowAge.addClass("has-success"),this.calculate())},validateWeight:function(){var a=Number($(event.target).val());1>a||a>1e3?(this.$rowWeight.removeClass("has-success"),this.$rowWeight.addClass("has-error"),this.$submit.prop("disabled",!0)):(this.$rowWeight.removeClass("has-error"),this.$rowWeight.addClass("has-success"),this.calculate())},validateHeight:function(){var a=Number($(event.target).val());1>a||a>100?(this.$rowHeight.removeClass("has-success"),this.$rowHeight.addClass("has-error"),this.$submit.prop("disabled",!0)):(this.$rowHeight.removeClass("has-error"),this.$rowHeight.addClass("has-success"),this.calculate())},calculate:function(){var a=Number(this.$formAge.val()),b=Number(this.$formHeight.val()),c=Number(this.$formWeight.val()),d=this.$formGender.val(),e=this.$formActivity.val(),f=703*c/(b*b),g="M"==d?66+6.2*c+12.7*b-6.76*a:655.1+4.35*c+4.7*b-4.7*a;this.$bmi.html(Math.round(f)),this.$bmr.html(Math.round(g));var h=g*e;this.$calorie.html(Math.round(h)),a>0&&100>=a&&c>0&&1e3>=c&&b>0&&100>=b?this.$submit.prop("disabled",!1):this.$submit.prop("disabled",!0)},submit:function(a){var b=Number(this.$formAge.val()),c=Number(this.$formHeight.val()),d=Number(this.$formWeight.val()),e=this.$formGender.val(),f=this.$formActivity.val(),g=this.$bmi.html(),h=this.$bmr.html(),i=Number(this.$calorie.html());this.model.set("age",b),this.model.set("height",c),this.model.set("weight",d),this.model.set("gender",e),this.model.set("activity",f),this.model.set("bmi",g),this.model.set("bmr",h),this.model.set("calorie",i),a.preventDefault()},render:function(){this.$formAge.val(this.model.get("age")),this.$formHeight.val(this.model.get("height")),this.$formWeight.val(this.model.get("weight")),this.$formGender.val(this.model.get("gender")),this.$formActivity.val(this.model.get("activity")),this.$bmr.html(Math.round(this.model.get("bmr"))),this.$bmi.html(Math.round(this.model.get("bmi"))),this.$calorie.html(Math.round(this.model.get("calorie")))}})}),app=app||{},$(function(){"use strict";app.DayTotalListView=Backbone.View.extend({self:this,el:$("#daytotal-section"),initialize:function(){this.$chartCalorie=this.$("#calorie-chart"),this.$list=this.$("#daytotal-list"),this.$weekpicker=this.$("#weekpicker"),this.collection=app.dayTotalList,this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"all",this.render)},initializeCharts:function(){self=app.dayTotalListView,self.chartCalorie=new google.visualization.ComboChart(document.getElementById("calorie-chart")),self.chartFat=new google.visualization.ComboChart(document.getElementById("fat-chart")),self.dataCalorie=new google.visualization.DataTable,self.dataFat=new google.visualization.DataTable,self.dataCalorie.addColumn("string","Dates"),self.dataCalorie.addColumn("number","Calories"),self.dataCalorie.addColumn("number","Calories Needed"),self.dataFat.addColumn("string","Dates"),self.dataFat.addColumn("number","Fat Calories"),self.dataFat.addColumn("number","20%"),self.dataFat.addColumn("number","35%"),self.optionsCalorie={vAxis:{title:"kiloCalories"},hAxis:{title:"Dates"},seriesType:"bars",series:{1:{type:"line"}}},self.optionsFat={vAxis:{title:"kiloCalories"},hAxis:{title:"Dates"},seriesType:"bars",series:{1:{type:"line"},2:{type:"line"}}},$(window).resize(function(){this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){$(this).trigger("resizeEnd")},500)}),$(window).on("resizeEnd",function(){self.redrawCharts()})},events:{"change #weekpicker":"weekChanged"},redrawCharts:function(){self.dataCalorie.getNumberOfRows()>0&&self.chartCalorie.draw(self.dataCalorie,self.optionsCalorie),self.dataFat.getNumberOfRows()>0&&self.chartFat.draw(self.dataFat,self.optionsFat)},convertWeekToDates:function(a){var b,c=[],d=a.slice(0,4),e=a.slice(6),f=new Date(d,0,1),g=f.getDay();3===g&&(b=new Date(d-1,11,30)),2===g&&(b=new Date(d-1,11,31)),1===g&&(b=new Date(d,0,1)),0===g&&(b=new Date(d,0,2)),6===g&&(b=new Date(d,0,3)),5===g&&(b=new Date(d,0,4)),4===g&&(b=new Date(d-1,11,29));for(var h=b.valueOf()+7*(e-1)*24*60*60*1e3,i=0;7>i;i++)c.push(app.getFormattedDate(new Date(h))),h+=864e5;return c},weekChanged:function(){self=this;var a=this.convertWeekToDates(this.$weekpicker.val()),b=app.personDetails.get("calorie"),c=.2*b,d=.35*b,e=this.dataCalorie.getNumberOfRows();e>0&&self.dataCalorie.removeRows(0,e),e=this.dataFat.getNumberOfRows(),e>0&&self.dataFat.removeRows(0,e),a.forEach(function(a){var e=app.dayTotalList.get(a);if(e){var f=a.slice(5),g=e.get("calories"),h=e.get("fat");self.dataCalorie.addRows([[f,g,b]]),self.dataFat.addRows([[f,9*h,c,d]])}}),self.optionsCalorie.title="Calories for the week starting "+a[0],self.optionsFat.title="Fat calories for the week starting "+a[0],self.chartCalorie.draw(this.dataCalorie,self.optionsCalorie),self.chartFat.draw(this.dataFat,self.optionsFat),$("#fatRecommendation").removeClass("hidden")},render:function(){return this},addAll:function(){this.$list.html('<tr><th>Date</th><th class="text-right">Calories</th><th class="text-right">Fat</th></tr>'),this.collection.each(this.addOne,this)},addOne:function(a){var b=this.$list.html();b&&0!==b.trim().length||this.$list.html('<tr><th>Date</th><th class="text-right">Calories</th><th class="text-right">Fat</th></tr>');var c=new app.DayTotalView({model:a});this.$list.append(c.render().el)}})}),app=app||{},$(function(){"use strict";app.DayTotalView=Backbone.View.extend({tagName:"tr",template:_.template($("#daytotal-template").html()),initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}})});var app=app||{};$(function(){"use strict";app.FoodEntryView=Backbone.View.extend({tagName:"tr",template:_.template($("#foodentry-template").html()),events:{},initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return void 0===this.model.changed.id?(this.$el.html(this.template(this.model.toJSON())),this):void 0}})});var app=app||{};$(function(){"use strict";app.FoodListView=Backbone.View.extend({el:"#daysection",initialize:function(a){this.$list=$("#foodlist"),this.$date=$("#date"),this.$totalcalories=$("#totalcalories"),this.$iconLd=$("#icon-loading-foodlist"),this.$textError=$("#text-error-foodlist"),this.thtext='<tr><th>Item Name</th><th>Calories</th><th class="hidden-xs">Quantity</th><th  class="hidden-xs">Unit</th><th class="hidden-xs">Fat</th></tr>',this.date=a.date,this.collection=new app.FoodEntryList(null,{id:this.date}),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"error",this.error),this.collection.fetch({error:function(a,b,c){console.log("Food list error: response: "+b)}})},error:function(a,b,c){console.log("here")},events:{"click #addMore":"addMore"},render:function(){return this.$date.html(this.date),this.$totalcalories.html(Math.round(this.collection.dailyTotalCalories())),this},addMore:function(){app.searchView.show()},addOne:function(a){0===this.$list.html().trim().length&&this.$list.html(this.thtext);var b=new app.FoodEntryView({model:a});this.$list.append(b.render().el)},addAll:function(){this.$list.html(this.thtext),this.collection.each(this.addOne,this)},setDate:function(a){this.$textError.addClass("hidden"),this.date=a,this.$list.html(this.thtext),this.$totalcalories.html(""),this.$date.html(""),this.collection=new app.FoodEntryList([],{id:this.date}),this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render),this.listenTo(this.collection,"add",this.addOne),app.dayTotalList.get(this.date)&&(this.$iconLd.removeClass("hidden"),self=this,this.collection.fetch({reset:!0,success:function(){self.$iconLd.addClass("hidden")},error:function(){this.iconLd.addClass("hidden"),self.$textError.removeClass("hidden")}}))},addFood:function(a){this.collection.create({brand_name:a.get("brand_name"),item_id:a.get("item_id"),item_name:a.get("item_name"),nf_calories:a.get("nf_calories"),nf_serving_size_qty:a.get("nf_serving_size_qty"),nf_serving_size_unit:a.get("nf_serving_size_unit"),nf_total_fat:a.get("nf_total_fat")}),app.dayTotalList.set({id:this.date,calories:this.collection.dailyTotalCalories(),fat:this.collection.dailyTotalFat()},{remove:!1})}})});var app=app||{};$(function(){"use strict";app.SearchItemView=Backbone.View.extend({tagName:"tr",template:_.template($("#searchresult-template").html()),events:{click:"selectRow",dblclick:"addItem","click #btnadd":"addItem"},initialize:function(){this.listenTo(this.model,"change",this.render)},selectRow:function(){this.$el.addClass("highlight").siblings().removeClass("highlight")},addItem:function(){app.foodListView.addFood(this.model),app.searchView.hide()},render:function(){return void 0===this.model.changed.id?(this.$el.html(this.template(this.model.toJSON())),this):void 0}})});var app=app||{};$(function(){"use strict";app.SearchView=Backbone.View.extend({el:"#searchsection",initialize:function(){this.$searchText=$("#searchText"),this.$btnfind=$("#btnfind"),this.$list=$("#searchresultlist"),this.$header=$("#searchresult-header"),this.$iconLd=$("#icon-loading-search"),this.$textError=$("#text-error-search"),this.collection=new app.SearchList,this.listenTo(this.collection,"reset",this.addAll),this.listenTo(this.collection,"all",this.render)},events:{"click #submit":"findFoods"},show:function(){this.$searchText.val(""),this.$list.html(""),this.$el.show(),this.$textError.addClass("hidden"),this.$searchText.focus(),this.$searchText.get(0).scrollIntoView()},hide:function(){this.$el.hide()},findFoods:function(a){var b=this;a.preventDefault(),b.$textError.addClass("hidden"),this.$iconLd.removeClass("hidden"),this.collection.setSearchString(this.$searchText.val()),this.collection.fetch({reset:!0,success:function(a,c,d){b.$iconLd.addClass("hidden")},error:function(a,c,d){b.$iconLd.addClass("hidden"),b.$textError.removeClass("hidden")}})},render:function(){return this},addOne:function(a){var b=new app.SearchItemView({model:a,parse:!0});this.$list.append(b.render().el)},addAll:function(){this.$list.html("<tr><th></th><th>Item Name</th><th>Calories</th><th>Quantity</th><th>Unit</th><th>Fat</th></tr>"),this.collection.each(this.addOne,this)}})});var app=app||{},ENTER_KEY=13,ESC_KEY=27;if($(function(){"use strict";app.getFormattedDate=function(a){var b=Number(a.getMonth())+1;10>b&&(b="0"+b);var c=a.getDate();10>c&&(c="0"+c);var d=a.getFullYear()+"-"+b+"-"+c;return d},app.appView=new app.AppView,google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(app.dayTotalListView.initializeCharts)}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.6",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.6",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.6",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery);